function cov_2kwwtzhf84(){var path="D:\\Arkademy\\Ceritakopi-Backend\\src\\models\\items.js";var hash="df32f52e19577614a701c1acf0baf8ad952a1a46";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"D:\\Arkademy\\Ceritakopi-Backend\\src\\models\\items.js",statementMap:{"0":{start:{line:2,column:13},end:{line:2,column:39}},"1":{start:{line:3,column:22},end:{line:3,column:37}},"2":{start:{line:4,column:20},end:{line:4,column:52}},"3":{start:{line:5,column:0},end:{line:7,column:2}},"4":{start:{line:6,column:4},end:{line:6,column:122}},"5":{start:{line:9,column:0},end:{line:11,column:2}},"6":{start:{line:10,column:4},end:{line:10,column:193}},"7":{start:{line:13,column:0},end:{line:18,column:2}},"8":{start:{line:14,column:4},end:{line:17,column:93}},"9":{start:{line:20,column:0},end:{line:22,column:2}},"10":{start:{line:21,column:4},end:{line:21,column:63}},"11":{start:{line:24,column:0},end:{line:26,column:2}},"12":{start:{line:25,column:4},end:{line:25,column:57}},"13":{start:{line:29,column:0},end:{line:31,column:2}},"14":{start:{line:30,column:4},end:{line:30,column:406}},"15":{start:{line:33,column:0},end:{line:35,column:2}},"16":{start:{line:34,column:4},end:{line:34,column:189}},"17":{start:{line:36,column:0},end:{line:38,column:2}},"18":{start:{line:37,column:4},end:{line:37,column:192}},"19":{start:{line:39,column:0},end:{line:43,column:2}},"20":{start:{line:40,column:4},end:{line:42,column:17}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:5,column:19},end:{line:5,column:20}},loc:{start:{line:5,column:27},end:{line:7,column:1}},line:5},"1":{name:"(anonymous_1)",decl:{start:{line:9,column:18},end:{line:9,column:19}},loc:{start:{line:9,column:32},end:{line:11,column:1}},line:9},"2":{name:"(anonymous_2)",decl:{start:{line:13,column:22},end:{line:13,column:23}},loc:{start:{line:13,column:34},end:{line:18,column:1}},line:13},"3":{name:"(anonymous_3)",decl:{start:{line:20,column:21},end:{line:20,column:22}},loc:{start:{line:20,column:38},end:{line:22,column:1}},line:20},"4":{name:"(anonymous_4)",decl:{start:{line:24,column:21},end:{line:24,column:22}},loc:{start:{line:24,column:33},end:{line:26,column:1}},line:24},"5":{name:"(anonymous_5)",decl:{start:{line:29,column:31},end:{line:29,column:32}},loc:{start:{line:29,column:45},end:{line:31,column:1}},line:29},"6":{name:"(anonymous_6)",decl:{start:{line:33,column:29},end:{line:33,column:30}},loc:{start:{line:33,column:41},end:{line:35,column:1}},line:33},"7":{name:"(anonymous_7)",decl:{start:{line:36,column:34},end:{line:36,column:35}},loc:{start:{line:36,column:42},end:{line:38,column:1}},line:36},"8":{name:"(anonymous_8)",decl:{start:{line:39,column:25},end:{line:39,column:26}},loc:{start:{line:39,column:37},end:{line:43,column:1}},line:39}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"df32f52e19577614a701c1acf0baf8ad952a1a46"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2kwwtzhf84=function(){return actualCoverage;};}return actualCoverage;}cov_2kwwtzhf84();/* eslint-disable quotes */const myDb=(cov_2kwwtzhf84().s[0]++,require('../helpers/myDb'));const{promisify}=(cov_2kwwtzhf84().s[1]++,require('util'));const execPromise=(cov_2kwwtzhf84().s[2]++,promisify(myDb.query).bind(myDb));cov_2kwwtzhf84().s[3]++;exports.getItems=cb=>{cov_2kwwtzhf84().f[0]++;cov_2kwwtzhf84().s[4]++;myDb.query('select items.id, items.name as product_name, items.images, items.price, items.created_at from items',cb);};cov_2kwwtzhf84().s[5]++;exports.addItem=(data,cb)=>{cov_2kwwtzhf84().f[1]++;cov_2kwwtzhf84().s[6]++;myDb.query(`insert into items (name,images,price,quantity,delivery_on,detail) values (?,?,?,?,?,?)`,[data.name,data.images,data.price,data.quantity,data.delivery_on,data.detail],cb);};cov_2kwwtzhf84().s[7]++;exports.getItemById=(id,cb)=>{cov_2kwwtzhf84().f[2]++;cov_2kwwtzhf84().s[8]++;myDb.query(`SELECT items.id, items.images, items.name, items.detail, items.quantity, items.delivery_on, items.price as base_price, item_variants.additional_price, 
(items.price + item_variants.additional_price) as end_price,variants.name as variant_name, variants.code, items.created_at, items.updated_at from items 
INNER JOIN item_variants on item_variants.id_item = items.id
INNER Join variants on item_variants.id_variant = variants.id where items.id = ?`,[id],cb);};cov_2kwwtzhf84().s[9]++;exports.updateItem=(data,id,cb)=>{cov_2kwwtzhf84().f[3]++;cov_2kwwtzhf84().s[10]++;myDb.query(`update items set ? where id=?`,[data,id],cb);};cov_2kwwtzhf84().s[11]++;exports.deleteItem=(id,cb)=>{cov_2kwwtzhf84().f[4]++;cov_2kwwtzhf84().s[12]++;myDb.query(`DELETE FROM items WHERE id=?`,[id],cb);};// Search and Sort
cov_2kwwtzhf84().s[13]++;exports.getItemSearchAndSort=(cond,cb)=>{cov_2kwwtzhf84().f[5]++;cov_2kwwtzhf84().s[14]++;myDb.query(`SELECT items.id, items.name, items.images, items.price as price, items.detail, categories.name as category_name, items.created_at as newest FROM items LEFT JOIN categories ON categories.id = items.id WHERE items.name LIKE '%${cond.search}%' ORDER BY ${cond.order} ${cond.value} LIMIT ${cond.limit} OFFSET ${cond.offset}`,[cond.search,cond.limit,cond.offset,cond.order,cond.value],cb);};cov_2kwwtzhf84().s[15]++;exports.getItemsByCategory=(id,cb)=>{cov_2kwwtzhf84().f[6]++;cov_2kwwtzhf84().s[16]++;myDb.query(`SELECT items.name, items.images, items.price as price FROM items LEFT JOIN item_category ON item_category.id_item = items.id where item_category.id_category = ?`,[id],cb);};cov_2kwwtzhf84().s[17]++;exports.getItemsByCategoryAsync=id=>{cov_2kwwtzhf84().f[7]++;cov_2kwwtzhf84().s[18]++;return execPromise(`SELECT items.name, items.images, items.price as price FROM items LEFT JOIN item_category ON item_category.id_item = items.id where item_category.id_category = ?`,[id]);};cov_2kwwtzhf84().s[19]++;exports.getItembyIdTrx=(id,cb)=>{cov_2kwwtzhf84().f[8]++;cov_2kwwtzhf84().s[20]++;myDb.query(`
    SELECT id, name, price from items WHERE id IN (?)
    `,[id],cb);};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIml0ZW1zLmpzIl0sIm5hbWVzIjpbIm15RGIiLCJyZXF1aXJlIiwicHJvbWlzaWZ5IiwiZXhlY1Byb21pc2UiLCJxdWVyeSIsImJpbmQiLCJleHBvcnRzIiwiZ2V0SXRlbXMiLCJjYiIsImFkZEl0ZW0iLCJkYXRhIiwibmFtZSIsImltYWdlcyIsInByaWNlIiwicXVhbnRpdHkiLCJkZWxpdmVyeV9vbiIsImRldGFpbCIsImdldEl0ZW1CeUlkIiwiaWQiLCJ1cGRhdGVJdGVtIiwiZGVsZXRlSXRlbSIsImdldEl0ZW1TZWFyY2hBbmRTb3J0IiwiY29uZCIsInNlYXJjaCIsIm9yZGVyIiwidmFsdWUiLCJsaW1pdCIsIm9mZnNldCIsImdldEl0ZW1zQnlDYXRlZ29yeSIsImdldEl0ZW1zQnlDYXRlZ29yeUFzeW5jIiwiZ2V0SXRlbWJ5SWRUcngiXSwibWFwcGluZ3MiOiI2ckdBZVk7MkZBZlosMkJBQ0EsS0FBTUEsQ0FBQUEsSUFBSSwwQkFBR0MsT0FBTyxDQUFDLGlCQUFELENBQVYsQ0FBVixDQUNBLEtBQU0sQ0FBRUMsU0FBRiwyQkFBZ0JELE9BQU8sQ0FBQyxNQUFELENBQXZCLENBQU4sQ0FDQSxLQUFNRSxDQUFBQSxXQUFXLDBCQUFHRCxTQUFTLENBQUNGLElBQUksQ0FBQ0ksS0FBTixDQUFULENBQXNCQyxJQUF0QixDQUEyQkwsSUFBM0IsQ0FBSCxDQUFqQixDLHdCQUNBTSxPQUFPLENBQUNDLFFBQVIsQ0FBb0JDLEVBQUQsRUFBUSxpREFDdkJSLElBQUksQ0FBQ0ksS0FBTCxDQUFXLHFHQUFYLENBQWtISSxFQUFsSCxFQUNILENBRkQsQyx3QkFJQUYsT0FBTyxDQUFDRyxPQUFSLENBQWtCLENBQUNDLElBQUQsQ0FBT0YsRUFBUCxHQUFjLGlEQUM1QlIsSUFBSSxDQUFDSSxLQUFMLENBQVksd0ZBQVosQ0FBcUcsQ0FBQ00sSUFBSSxDQUFDQyxJQUFOLENBQVlELElBQUksQ0FBQ0UsTUFBakIsQ0FBeUJGLElBQUksQ0FBQ0csS0FBOUIsQ0FBcUNILElBQUksQ0FBQ0ksUUFBMUMsQ0FBb0RKLElBQUksQ0FBQ0ssV0FBekQsQ0FBc0VMLElBQUksQ0FBQ00sTUFBM0UsQ0FBckcsQ0FBeUxSLEVBQXpMLEVBQ0gsQ0FGRCxDLHdCQUlBRixPQUFPLENBQUNXLFdBQVIsQ0FBc0IsQ0FBQ0MsRUFBRCxDQUFLVixFQUFMLEdBQVksaURBQzlCUixJQUFJLENBQUNJLEtBQUwsQ0FBWTtBQUNoQjtBQUNBO0FBQ0EsaUZBSEksQ0FHK0UsQ0FBQ2MsRUFBRCxDQUgvRSxDQUdxRlYsRUFIckYsRUFJSCxDQUxELEMsd0JBT0FGLE9BQU8sQ0FBQ2EsVUFBUixDQUFxQixDQUFDVCxJQUFELENBQU1RLEVBQU4sQ0FBVVYsRUFBVixHQUFpQixrREFDbENSLElBQUksQ0FBQ0ksS0FBTCxDQUFZLCtCQUFaLENBQTRDLENBQUNNLElBQUQsQ0FBTVEsRUFBTixDQUE1QyxDQUF1RFYsRUFBdkQsRUFDSCxDQUZELEMseUJBSUFGLE9BQU8sQ0FBQ2MsVUFBUixDQUFxQixDQUFDRixFQUFELENBQUtWLEVBQUwsR0FBWSxrREFDN0JSLElBQUksQ0FBQ0ksS0FBTCxDQUFZLDhCQUFaLENBQTJDLENBQUNjLEVBQUQsQ0FBM0MsQ0FBaURWLEVBQWpELEVBQ0gsQ0FGRCxDQUlBO3lCQUNBRixPQUFPLENBQUNlLG9CQUFSLENBQStCLENBQUNDLElBQUQsQ0FBT2QsRUFBUCxHQUFjLGtEQUN6Q1IsSUFBSSxDQUFDSSxLQUFMLENBQVksbU9BQWtPa0IsSUFBSSxDQUFDQyxNQUFPLGVBQWNELElBQUksQ0FBQ0UsS0FBTSxJQUFHRixJQUFJLENBQUNHLEtBQU0sVUFBU0gsSUFBSSxDQUFDSSxLQUFNLFdBQVVKLElBQUksQ0FBQ0ssTUFBTyxFQUEzVSxDQUE4VSxDQUFDTCxJQUFJLENBQUNDLE1BQU4sQ0FBY0QsSUFBSSxDQUFDSSxLQUFuQixDQUEwQkosSUFBSSxDQUFDSyxNQUEvQixDQUF1Q0wsSUFBSSxDQUFDRSxLQUE1QyxDQUFtREYsSUFBSSxDQUFDRyxLQUF4RCxDQUE5VSxDQUE4WWpCLEVBQTlZLEVBQ0gsQ0FGRCxDLHlCQUlBRixPQUFPLENBQUNzQixrQkFBUixDQUE2QixDQUFDVixFQUFELENBQUtWLEVBQUwsR0FBWSxrREFDckNSLElBQUksQ0FBQ0ksS0FBTCxDQUFZLGtLQUFaLENBQStLLENBQUNjLEVBQUQsQ0FBL0ssQ0FBcUxWLEVBQXJMLEVBQ0gsQ0FGRCxDLHlCQUdBRixPQUFPLENBQUN1Qix1QkFBUixDQUFtQ1gsRUFBRCxFQUFRLGtEQUN0QyxNQUFPZixDQUFBQSxXQUFXLENBQUUsa0tBQUYsQ0FBcUssQ0FBQ2UsRUFBRCxDQUFySyxDQUFsQixDQUNILENBRkQsQyx5QkFHQVosT0FBTyxDQUFDd0IsY0FBUixDQUF5QixDQUFDWixFQUFELENBQUtWLEVBQUwsR0FBWSxrREFDakNSLElBQUksQ0FBQ0ksS0FBTCxDQUFZO0FBQ2hCO0FBQ0EsS0FGSSxDQUVHLENBQUNjLEVBQUQsQ0FGSCxDQUVTVixFQUZULEVBR0gsQ0FKRCIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIHF1b3RlcyAqL1xyXG5jb25zdCBteURiID0gcmVxdWlyZSgnLi4vaGVscGVycy9teURiJyk7XHJcbmNvbnN0IHsgcHJvbWlzaWZ5IH0gPSByZXF1aXJlKCd1dGlsJyk7XHJcbmNvbnN0IGV4ZWNQcm9taXNlID0gcHJvbWlzaWZ5KG15RGIucXVlcnkpLmJpbmQobXlEYik7XHJcbmV4cG9ydHMuZ2V0SXRlbXMgPSAoY2IpID0+IHtcclxuICAgIG15RGIucXVlcnkoJ3NlbGVjdCBpdGVtcy5pZCwgaXRlbXMubmFtZSBhcyBwcm9kdWN0X25hbWUsIGl0ZW1zLmltYWdlcywgaXRlbXMucHJpY2UsIGl0ZW1zLmNyZWF0ZWRfYXQgZnJvbSBpdGVtcycsIGNiKTtcclxufTtcclxuXHJcbmV4cG9ydHMuYWRkSXRlbSA9IChkYXRhLCBjYikgPT4ge1xyXG4gICAgbXlEYi5xdWVyeShgaW5zZXJ0IGludG8gaXRlbXMgKG5hbWUsaW1hZ2VzLHByaWNlLHF1YW50aXR5LGRlbGl2ZXJ5X29uLGRldGFpbCkgdmFsdWVzICg/LD8sPyw/LD8sPylgLCBbZGF0YS5uYW1lLCBkYXRhLmltYWdlcywgZGF0YS5wcmljZSwgZGF0YS5xdWFudGl0eSwgZGF0YS5kZWxpdmVyeV9vbiwgZGF0YS5kZXRhaWxdLCBjYik7XHJcbn07XHJcblxyXG5leHBvcnRzLmdldEl0ZW1CeUlkID0gKGlkLCBjYikgPT4ge1xyXG4gICAgbXlEYi5xdWVyeShgU0VMRUNUIGl0ZW1zLmlkLCBpdGVtcy5pbWFnZXMsIGl0ZW1zLm5hbWUsIGl0ZW1zLmRldGFpbCwgaXRlbXMucXVhbnRpdHksIGl0ZW1zLmRlbGl2ZXJ5X29uLCBpdGVtcy5wcmljZSBhcyBiYXNlX3ByaWNlLCBpdGVtX3ZhcmlhbnRzLmFkZGl0aW9uYWxfcHJpY2UsIFxyXG4oaXRlbXMucHJpY2UgKyBpdGVtX3ZhcmlhbnRzLmFkZGl0aW9uYWxfcHJpY2UpIGFzIGVuZF9wcmljZSx2YXJpYW50cy5uYW1lIGFzIHZhcmlhbnRfbmFtZSwgdmFyaWFudHMuY29kZSwgaXRlbXMuY3JlYXRlZF9hdCwgaXRlbXMudXBkYXRlZF9hdCBmcm9tIGl0ZW1zIFxyXG5JTk5FUiBKT0lOIGl0ZW1fdmFyaWFudHMgb24gaXRlbV92YXJpYW50cy5pZF9pdGVtID0gaXRlbXMuaWRcclxuSU5ORVIgSm9pbiB2YXJpYW50cyBvbiBpdGVtX3ZhcmlhbnRzLmlkX3ZhcmlhbnQgPSB2YXJpYW50cy5pZCB3aGVyZSBpdGVtcy5pZCA9ID9gLCBbaWRdLCBjYik7XHJcbn07XHJcblxyXG5leHBvcnRzLnVwZGF0ZUl0ZW0gPSAoZGF0YSxpZCwgY2IpID0+IHtcclxuICAgIG15RGIucXVlcnkoYHVwZGF0ZSBpdGVtcyBzZXQgPyB3aGVyZSBpZD0/YCwgW2RhdGEsaWRdLCBjYik7XHJcbn07XHJcblxyXG5leHBvcnRzLmRlbGV0ZUl0ZW0gPSAoaWQsIGNiKSA9PiB7XHJcbiAgICBteURiLnF1ZXJ5KGBERUxFVEUgRlJPTSBpdGVtcyBXSEVSRSBpZD0/YCwgW2lkXSwgY2IpO1xyXG59O1xyXG5cclxuLy8gU2VhcmNoIGFuZCBTb3J0XHJcbmV4cG9ydHMuZ2V0SXRlbVNlYXJjaEFuZFNvcnQgPSAoY29uZCwgY2IpID0+IHtcclxuICAgIG15RGIucXVlcnkoYFNFTEVDVCBpdGVtcy5pZCwgaXRlbXMubmFtZSwgaXRlbXMuaW1hZ2VzLCBpdGVtcy5wcmljZSBhcyBwcmljZSwgaXRlbXMuZGV0YWlsLCBjYXRlZ29yaWVzLm5hbWUgYXMgY2F0ZWdvcnlfbmFtZSwgaXRlbXMuY3JlYXRlZF9hdCBhcyBuZXdlc3QgRlJPTSBpdGVtcyBMRUZUIEpPSU4gY2F0ZWdvcmllcyBPTiBjYXRlZ29yaWVzLmlkID0gaXRlbXMuaWQgV0hFUkUgaXRlbXMubmFtZSBMSUtFICclJHtjb25kLnNlYXJjaH0lJyBPUkRFUiBCWSAke2NvbmQub3JkZXJ9ICR7Y29uZC52YWx1ZX0gTElNSVQgJHtjb25kLmxpbWl0fSBPRkZTRVQgJHtjb25kLm9mZnNldH1gLCBbY29uZC5zZWFyY2gsIGNvbmQubGltaXQsIGNvbmQub2Zmc2V0LCBjb25kLm9yZGVyLCBjb25kLnZhbHVlXSwgY2IpO1xyXG59O1xyXG5cclxuZXhwb3J0cy5nZXRJdGVtc0J5Q2F0ZWdvcnkgPSAoaWQsIGNiKSA9PiB7XHJcbiAgICBteURiLnF1ZXJ5KGBTRUxFQ1QgaXRlbXMubmFtZSwgaXRlbXMuaW1hZ2VzLCBpdGVtcy5wcmljZSBhcyBwcmljZSBGUk9NIGl0ZW1zIExFRlQgSk9JTiBpdGVtX2NhdGVnb3J5IE9OIGl0ZW1fY2F0ZWdvcnkuaWRfaXRlbSA9IGl0ZW1zLmlkIHdoZXJlIGl0ZW1fY2F0ZWdvcnkuaWRfY2F0ZWdvcnkgPSA/YCwgW2lkXSwgY2IpO1xyXG59O1xyXG5leHBvcnRzLmdldEl0ZW1zQnlDYXRlZ29yeUFzeW5jID0gKGlkKSA9PiB7XHJcbiAgICByZXR1cm4gZXhlY1Byb21pc2UoYFNFTEVDVCBpdGVtcy5uYW1lLCBpdGVtcy5pbWFnZXMsIGl0ZW1zLnByaWNlIGFzIHByaWNlIEZST00gaXRlbXMgTEVGVCBKT0lOIGl0ZW1fY2F0ZWdvcnkgT04gaXRlbV9jYXRlZ29yeS5pZF9pdGVtID0gaXRlbXMuaWQgd2hlcmUgaXRlbV9jYXRlZ29yeS5pZF9jYXRlZ29yeSA9ID9gLCBbaWRdKVxyXG59O1xyXG5leHBvcnRzLmdldEl0ZW1ieUlkVHJ4ID0gKGlkLCBjYikgPT4ge1xyXG4gICAgbXlEYi5xdWVyeShgXHJcbiAgICBTRUxFQ1QgaWQsIG5hbWUsIHByaWNlIGZyb20gaXRlbXMgV0hFUkUgaWQgSU4gKD8pXHJcbiAgICBgLCBbaWRdLCBjYik7XHJcbn07Il19