function cov_2kwwtzhf84(){var path="D:\\Arkademy\\Ceritakopi-Backend\\src\\models\\items.js";var hash="11394dc6b68ec8bc15973f4f7f79fdea763d06fe";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"D:\\Arkademy\\Ceritakopi-Backend\\src\\models\\items.js",statementMap:{"0":{start:{line:2,column:13},end:{line:2,column:39}},"1":{start:{line:4,column:0},end:{line:6,column:2}},"2":{start:{line:5,column:4},end:{line:5,column:122}},"3":{start:{line:8,column:0},end:{line:10,column:2}},"4":{start:{line:9,column:4},end:{line:9,column:193}},"5":{start:{line:12,column:0},end:{line:17,column:2}},"6":{start:{line:13,column:4},end:{line:16,column:93}},"7":{start:{line:19,column:0},end:{line:21,column:2}},"8":{start:{line:20,column:4},end:{line:20,column:63}},"9":{start:{line:23,column:0},end:{line:25,column:2}},"10":{start:{line:24,column:4},end:{line:24,column:57}},"11":{start:{line:28,column:0},end:{line:30,column:2}},"12":{start:{line:29,column:4},end:{line:29,column:406}},"13":{start:{line:32,column:0},end:{line:34,column:2}},"14":{start:{line:33,column:4},end:{line:33,column:189}},"15":{start:{line:36,column:0},end:{line:40,column:2}},"16":{start:{line:37,column:4},end:{line:39,column:17}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:4,column:19},end:{line:4,column:20}},loc:{start:{line:4,column:27},end:{line:6,column:1}},line:4},"1":{name:"(anonymous_1)",decl:{start:{line:8,column:18},end:{line:8,column:19}},loc:{start:{line:8,column:32},end:{line:10,column:1}},line:8},"2":{name:"(anonymous_2)",decl:{start:{line:12,column:22},end:{line:12,column:23}},loc:{start:{line:12,column:34},end:{line:17,column:1}},line:12},"3":{name:"(anonymous_3)",decl:{start:{line:19,column:21},end:{line:19,column:22}},loc:{start:{line:19,column:38},end:{line:21,column:1}},line:19},"4":{name:"(anonymous_4)",decl:{start:{line:23,column:21},end:{line:23,column:22}},loc:{start:{line:23,column:33},end:{line:25,column:1}},line:23},"5":{name:"(anonymous_5)",decl:{start:{line:28,column:31},end:{line:28,column:32}},loc:{start:{line:28,column:45},end:{line:30,column:1}},line:28},"6":{name:"(anonymous_6)",decl:{start:{line:32,column:29},end:{line:32,column:30}},loc:{start:{line:32,column:41},end:{line:34,column:1}},line:32},"7":{name:"(anonymous_7)",decl:{start:{line:36,column:25},end:{line:36,column:26}},loc:{start:{line:36,column:37},end:{line:40,column:1}},line:36}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"11394dc6b68ec8bc15973f4f7f79fdea763d06fe"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2kwwtzhf84=function(){return actualCoverage;};}return actualCoverage;}cov_2kwwtzhf84();/* eslint-disable quotes */const myDb=(cov_2kwwtzhf84().s[0]++,require('../helpers/myDb'));cov_2kwwtzhf84().s[1]++;exports.getItems=cb=>{cov_2kwwtzhf84().f[0]++;cov_2kwwtzhf84().s[2]++;myDb.query('select items.id, items.name as product_name, items.images, items.price, items.created_at from items',cb);};cov_2kwwtzhf84().s[3]++;exports.addItem=(data,cb)=>{cov_2kwwtzhf84().f[1]++;cov_2kwwtzhf84().s[4]++;myDb.query(`insert into items (name,images,price,quantity,delivery_on,detail) values (?,?,?,?,?,?)`,[data.name,data.images,data.price,data.quantity,data.delivery_on,data.detail],cb);};cov_2kwwtzhf84().s[5]++;exports.getItemById=(id,cb)=>{cov_2kwwtzhf84().f[2]++;cov_2kwwtzhf84().s[6]++;myDb.query(`SELECT items.id, items.images, items.name, items.detail, items.quantity, items.delivery_on, items.price as base_price, item_variants.additional_price, 
(items.price + item_variants.additional_price) as end_price,variants.name as variant_name, variants.code, items.created_at, items.updated_at from items 
INNER JOIN item_variants on item_variants.id_item = items.id
INNER Join variants on item_variants.id_variant = variants.id where items.id = ?`,[id],cb);};cov_2kwwtzhf84().s[7]++;exports.updateItem=(data,id,cb)=>{cov_2kwwtzhf84().f[3]++;cov_2kwwtzhf84().s[8]++;myDb.query(`update items set ? where id=?`,[data,id],cb);};cov_2kwwtzhf84().s[9]++;exports.deleteItem=(id,cb)=>{cov_2kwwtzhf84().f[4]++;cov_2kwwtzhf84().s[10]++;myDb.query(`DELETE FROM items WHERE id=?`,[id],cb);};// Search and Sort
cov_2kwwtzhf84().s[11]++;exports.getItemSearchAndSort=(cond,cb)=>{cov_2kwwtzhf84().f[5]++;cov_2kwwtzhf84().s[12]++;myDb.query(`SELECT items.id, items.name, items.images, items.price as price, items.detail, categories.name as category_name, items.created_at as newest FROM items LEFT JOIN categories ON categories.id = items.id WHERE items.name LIKE '%${cond.search}%' ORDER BY ${cond.order} ${cond.value} LIMIT ${cond.limit} OFFSET ${cond.offset}`,[cond.search,cond.limit,cond.offset,cond.order,cond.value],cb);};cov_2kwwtzhf84().s[13]++;exports.getItemsByCategory=(id,cb)=>{cov_2kwwtzhf84().f[6]++;cov_2kwwtzhf84().s[14]++;myDb.query(`SELECT items.name, items.images, items.price as price FROM items LEFT JOIN item_category ON item_category.id_item = items.id where item_category.id_category = ?`,[id],cb);};cov_2kwwtzhf84().s[15]++;exports.getItembyIdTrx=(id,cb)=>{cov_2kwwtzhf84().f[7]++;cov_2kwwtzhf84().s[16]++;myDb.query(`
    SELECT id, name, price from items WHERE id IN (?)
    `,[id],cb);};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIml0ZW1zLmpzIl0sIm5hbWVzIjpbIm15RGIiLCJyZXF1aXJlIiwiZXhwb3J0cyIsImdldEl0ZW1zIiwiY2IiLCJxdWVyeSIsImFkZEl0ZW0iLCJkYXRhIiwibmFtZSIsImltYWdlcyIsInByaWNlIiwicXVhbnRpdHkiLCJkZWxpdmVyeV9vbiIsImRldGFpbCIsImdldEl0ZW1CeUlkIiwiaWQiLCJ1cGRhdGVJdGVtIiwiZGVsZXRlSXRlbSIsImdldEl0ZW1TZWFyY2hBbmRTb3J0IiwiY29uZCIsInNlYXJjaCIsIm9yZGVyIiwidmFsdWUiLCJsaW1pdCIsIm9mZnNldCIsImdldEl0ZW1zQnlDYXRlZ29yeSIsImdldEl0ZW1ieUlkVHJ4Il0sIm1hcHBpbmdzIjoid3lGQWVZOzJGQWZaLDJCQUNBLEtBQU1BLENBQUFBLElBQUksMEJBQUdDLE9BQU8sQ0FBQyxpQkFBRCxDQUFWLENBQVYsQyx3QkFFQUMsT0FBTyxDQUFDQyxRQUFSLENBQW9CQyxFQUFELEVBQVEsaURBQ3ZCSixJQUFJLENBQUNLLEtBQUwsQ0FBVyxxR0FBWCxDQUFrSEQsRUFBbEgsRUFDSCxDQUZELEMsd0JBSUFGLE9BQU8sQ0FBQ0ksT0FBUixDQUFrQixDQUFDQyxJQUFELENBQU9ILEVBQVAsR0FBYyxpREFDNUJKLElBQUksQ0FBQ0ssS0FBTCxDQUFZLHdGQUFaLENBQXFHLENBQUNFLElBQUksQ0FBQ0MsSUFBTixDQUFZRCxJQUFJLENBQUNFLE1BQWpCLENBQXlCRixJQUFJLENBQUNHLEtBQTlCLENBQXFDSCxJQUFJLENBQUNJLFFBQTFDLENBQW9ESixJQUFJLENBQUNLLFdBQXpELENBQXNFTCxJQUFJLENBQUNNLE1BQTNFLENBQXJHLENBQXlMVCxFQUF6TCxFQUNILENBRkQsQyx3QkFJQUYsT0FBTyxDQUFDWSxXQUFSLENBQXNCLENBQUNDLEVBQUQsQ0FBS1gsRUFBTCxHQUFZLGlEQUM5QkosSUFBSSxDQUFDSyxLQUFMLENBQVk7QUFDaEI7QUFDQTtBQUNBLGlGQUhJLENBRytFLENBQUNVLEVBQUQsQ0FIL0UsQ0FHcUZYLEVBSHJGLEVBSUgsQ0FMRCxDLHdCQU9BRixPQUFPLENBQUNjLFVBQVIsQ0FBcUIsQ0FBQ1QsSUFBRCxDQUFNUSxFQUFOLENBQVVYLEVBQVYsR0FBaUIsaURBQ2xDSixJQUFJLENBQUNLLEtBQUwsQ0FBWSwrQkFBWixDQUE0QyxDQUFDRSxJQUFELENBQU1RLEVBQU4sQ0FBNUMsQ0FBdURYLEVBQXZELEVBQ0gsQ0FGRCxDLHdCQUlBRixPQUFPLENBQUNlLFVBQVIsQ0FBcUIsQ0FBQ0YsRUFBRCxDQUFLWCxFQUFMLEdBQVksa0RBQzdCSixJQUFJLENBQUNLLEtBQUwsQ0FBWSw4QkFBWixDQUEyQyxDQUFDVSxFQUFELENBQTNDLENBQWlEWCxFQUFqRCxFQUNILENBRkQsQ0FJQTt5QkFDQUYsT0FBTyxDQUFDZ0Isb0JBQVIsQ0FBK0IsQ0FBQ0MsSUFBRCxDQUFPZixFQUFQLEdBQWMsa0RBQ3pDSixJQUFJLENBQUNLLEtBQUwsQ0FBWSxtT0FBa09jLElBQUksQ0FBQ0MsTUFBTyxlQUFjRCxJQUFJLENBQUNFLEtBQU0sSUFBR0YsSUFBSSxDQUFDRyxLQUFNLFVBQVNILElBQUksQ0FBQ0ksS0FBTSxXQUFVSixJQUFJLENBQUNLLE1BQU8sRUFBM1UsQ0FBOFUsQ0FBQ0wsSUFBSSxDQUFDQyxNQUFOLENBQWNELElBQUksQ0FBQ0ksS0FBbkIsQ0FBMEJKLElBQUksQ0FBQ0ssTUFBL0IsQ0FBdUNMLElBQUksQ0FBQ0UsS0FBNUMsQ0FBbURGLElBQUksQ0FBQ0csS0FBeEQsQ0FBOVUsQ0FBOFlsQixFQUE5WSxFQUNILENBRkQsQyx5QkFJQUYsT0FBTyxDQUFDdUIsa0JBQVIsQ0FBNkIsQ0FBQ1YsRUFBRCxDQUFLWCxFQUFMLEdBQVksa0RBQ3JDSixJQUFJLENBQUNLLEtBQUwsQ0FBWSxrS0FBWixDQUErSyxDQUFDVSxFQUFELENBQS9LLENBQXFMWCxFQUFyTCxFQUNILENBRkQsQyx5QkFJQUYsT0FBTyxDQUFDd0IsY0FBUixDQUF5QixDQUFDWCxFQUFELENBQUtYLEVBQUwsR0FBWSxrREFDakNKLElBQUksQ0FBQ0ssS0FBTCxDQUFZO0FBQ2hCO0FBQ0EsS0FGSSxDQUVHLENBQUNVLEVBQUQsQ0FGSCxDQUVTWCxFQUZULEVBR0gsQ0FKRCIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIHF1b3RlcyAqL1xyXG5jb25zdCBteURiID0gcmVxdWlyZSgnLi4vaGVscGVycy9teURiJyk7XHJcblxyXG5leHBvcnRzLmdldEl0ZW1zID0gKGNiKSA9PiB7XHJcbiAgICBteURiLnF1ZXJ5KCdzZWxlY3QgaXRlbXMuaWQsIGl0ZW1zLm5hbWUgYXMgcHJvZHVjdF9uYW1lLCBpdGVtcy5pbWFnZXMsIGl0ZW1zLnByaWNlLCBpdGVtcy5jcmVhdGVkX2F0IGZyb20gaXRlbXMnLCBjYik7XHJcbn07XHJcblxyXG5leHBvcnRzLmFkZEl0ZW0gPSAoZGF0YSwgY2IpID0+IHtcclxuICAgIG15RGIucXVlcnkoYGluc2VydCBpbnRvIGl0ZW1zIChuYW1lLGltYWdlcyxwcmljZSxxdWFudGl0eSxkZWxpdmVyeV9vbixkZXRhaWwpIHZhbHVlcyAoPyw/LD8sPyw/LD8pYCwgW2RhdGEubmFtZSwgZGF0YS5pbWFnZXMsIGRhdGEucHJpY2UsIGRhdGEucXVhbnRpdHksIGRhdGEuZGVsaXZlcnlfb24sIGRhdGEuZGV0YWlsXSwgY2IpO1xyXG59O1xyXG5cclxuZXhwb3J0cy5nZXRJdGVtQnlJZCA9IChpZCwgY2IpID0+IHtcclxuICAgIG15RGIucXVlcnkoYFNFTEVDVCBpdGVtcy5pZCwgaXRlbXMuaW1hZ2VzLCBpdGVtcy5uYW1lLCBpdGVtcy5kZXRhaWwsIGl0ZW1zLnF1YW50aXR5LCBpdGVtcy5kZWxpdmVyeV9vbiwgaXRlbXMucHJpY2UgYXMgYmFzZV9wcmljZSwgaXRlbV92YXJpYW50cy5hZGRpdGlvbmFsX3ByaWNlLCBcclxuKGl0ZW1zLnByaWNlICsgaXRlbV92YXJpYW50cy5hZGRpdGlvbmFsX3ByaWNlKSBhcyBlbmRfcHJpY2UsdmFyaWFudHMubmFtZSBhcyB2YXJpYW50X25hbWUsIHZhcmlhbnRzLmNvZGUsIGl0ZW1zLmNyZWF0ZWRfYXQsIGl0ZW1zLnVwZGF0ZWRfYXQgZnJvbSBpdGVtcyBcclxuSU5ORVIgSk9JTiBpdGVtX3ZhcmlhbnRzIG9uIGl0ZW1fdmFyaWFudHMuaWRfaXRlbSA9IGl0ZW1zLmlkXHJcbklOTkVSIEpvaW4gdmFyaWFudHMgb24gaXRlbV92YXJpYW50cy5pZF92YXJpYW50ID0gdmFyaWFudHMuaWQgd2hlcmUgaXRlbXMuaWQgPSA/YCwgW2lkXSwgY2IpO1xyXG59O1xyXG5cclxuZXhwb3J0cy51cGRhdGVJdGVtID0gKGRhdGEsaWQsIGNiKSA9PiB7XHJcbiAgICBteURiLnF1ZXJ5KGB1cGRhdGUgaXRlbXMgc2V0ID8gd2hlcmUgaWQ9P2AsIFtkYXRhLGlkXSwgY2IpO1xyXG59O1xyXG5cclxuZXhwb3J0cy5kZWxldGVJdGVtID0gKGlkLCBjYikgPT4ge1xyXG4gICAgbXlEYi5xdWVyeShgREVMRVRFIEZST00gaXRlbXMgV0hFUkUgaWQ9P2AsIFtpZF0sIGNiKTtcclxufTtcclxuXHJcbi8vIFNlYXJjaCBhbmQgU29ydFxyXG5leHBvcnRzLmdldEl0ZW1TZWFyY2hBbmRTb3J0ID0gKGNvbmQsIGNiKSA9PiB7XHJcbiAgICBteURiLnF1ZXJ5KGBTRUxFQ1QgaXRlbXMuaWQsIGl0ZW1zLm5hbWUsIGl0ZW1zLmltYWdlcywgaXRlbXMucHJpY2UgYXMgcHJpY2UsIGl0ZW1zLmRldGFpbCwgY2F0ZWdvcmllcy5uYW1lIGFzIGNhdGVnb3J5X25hbWUsIGl0ZW1zLmNyZWF0ZWRfYXQgYXMgbmV3ZXN0IEZST00gaXRlbXMgTEVGVCBKT0lOIGNhdGVnb3JpZXMgT04gY2F0ZWdvcmllcy5pZCA9IGl0ZW1zLmlkIFdIRVJFIGl0ZW1zLm5hbWUgTElLRSAnJSR7Y29uZC5zZWFyY2h9JScgT1JERVIgQlkgJHtjb25kLm9yZGVyfSAke2NvbmQudmFsdWV9IExJTUlUICR7Y29uZC5saW1pdH0gT0ZGU0VUICR7Y29uZC5vZmZzZXR9YCwgW2NvbmQuc2VhcmNoLCBjb25kLmxpbWl0LCBjb25kLm9mZnNldCwgY29uZC5vcmRlciwgY29uZC52YWx1ZV0sIGNiKTtcclxufTtcclxuXHJcbmV4cG9ydHMuZ2V0SXRlbXNCeUNhdGVnb3J5ID0gKGlkLCBjYikgPT4ge1xyXG4gICAgbXlEYi5xdWVyeShgU0VMRUNUIGl0ZW1zLm5hbWUsIGl0ZW1zLmltYWdlcywgaXRlbXMucHJpY2UgYXMgcHJpY2UgRlJPTSBpdGVtcyBMRUZUIEpPSU4gaXRlbV9jYXRlZ29yeSBPTiBpdGVtX2NhdGVnb3J5LmlkX2l0ZW0gPSBpdGVtcy5pZCB3aGVyZSBpdGVtX2NhdGVnb3J5LmlkX2NhdGVnb3J5ID0gP2AsIFtpZF0sIGNiKTtcclxufTtcclxuXHJcbmV4cG9ydHMuZ2V0SXRlbWJ5SWRUcnggPSAoaWQsIGNiKSA9PiB7XHJcbiAgICBteURiLnF1ZXJ5KGBcclxuICAgIFNFTEVDVCBpZCwgbmFtZSwgcHJpY2UgZnJvbSBpdGVtcyBXSEVSRSBpZCBJTiAoPylcclxuICAgIGAsIFtpZF0sIGNiKTtcclxufTsiXX0=